<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--<a target="_blank" href="https://icons8.com/icon/6iCL6ToWEffH/airplane-landing">Airplane Landing</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a> -->
    <title>Holiday Planner</title>
    <link rel="icon" type="image/x-icon" href="images/icons8-airplane-take-off-100.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header><h1 id="header">Find my next International trip</h1></header>
    <main class="content-wrap">
        <form name="planner">
            <label for="days">No. of days: </label>
            <input id="days" type="text" name="days" value="5" size="2">
            <label for="budget">Budget: </label>
            <input id="budget" type="text" name="budget" value="5000" size="2">
            <input type="button" value="Submit" onclick="findHoliday()">
        </form>
        <div id="output">
            <img id="myImage" src="images/jeshoots-com-mSESwdMZr-A-unsplash.jpg" width="500" height="500" title="Where will you go?">
            <p id="description"></p>
        <div>
            <button onclick="moreOptions()">More options...</button>
        </div>
        
        </div>
        <div class="container"></div>
        <footer>
            <div class="content-wrap">
              <h2>Let's Keep in Touch!</h2>
    
              <!-- Social media and contact links. Add or remove any networks. -->
              <ul class="contact-list">
                <li><a href="mailto:coelhodenis90@gmail.com" title="Send an Email">Email</a></li>
                <li><a href="https://goanchap.github.io" title="Veiw my Portfolio" target="_blank">My Portfolio</a></li>
                <li><a href="https://github.com/GoanChap" title="Visit GoanChap" target="_blank">Git Hub</a></li>            
                <li><a href="https://www.linkedin.com/in/deniscoelho" title="Visit GoanChap" target="_blank">LinkedIn</a></li>
              </ul>
            </div>
          </footer>
    </main>
    
</body>

<script>

function getMagicNo(){
    let days = document.getElementById('days').value;
    let cost = document.getElementById('budget').value;
    return  cost/days;

}

function getArrayId() {
    
    let magic_number = getMagicNo();    
    let id;
    if (magic_number<500)
    id = 4;
    else if (magic_number < 750)
    id = 3;
    else if (magic_number < 1250)
    id = 2;
    else if (magic_number < 2000)
    id = 1;
    else
    id = 0;
    return id;
}

function moreOptions(){
        
    let id = getArrayId();
    let available_locations = locations.filter(locations => locations.magic_no >= id);
    let htmlCode= '';
    available_locations.forEach(function(singleLocationObjects){
    htmlCode =
    htmlCode +
    `
    <article>
      <div>
      <img src="${singleLocationObjects.photo_link}" title="${
      singleLocationObjects.region
    }" height="433">
      </div>
      <div>
      <h3>Location: ${singleLocationObjects.region}</h3>
      <p><b>Desc:</b> ${singleLocationObjects.desc}</p>
      <p><b>Flights:</b> ${singleLocationObjects.flights}</p>
      <p><b>Accomodation:</b> ${singleLocationObjects.accomodation}</p>
      </div>
    </article>
  `;
});
removeDiv();
const locationCards = document.querySelector(".container");
locationCards.innerHTML = htmlCode;
 
}

function removeDiv(){
    var div = document.getElementById('output');
    div.remove();
    var header = document.getElementById('header');
    header.remove();
    
}
// make id global
function findHoliday(){
    let id = getArrayId();
    let img = document.getElementById('myImage');
    img.src = locations[id].photo_link;
    img.height = '333';
    img.title = locations[id].region;
    let desc = locations[id].desc;
    document.getElementById("description").innerHTML = desc;
    let region = locations[id].region;
    document.getElementById("header").innerText = region;
}

let locations = [
  {
    "region": "Europe",
    "photo_link": "images/denys-nevozhai-UzagqG756OU-unsplash.jpg",
    "desc": "A continent of culture, custom and craftsmanship across many fields, the reasons why so many people choose to visit Europe are countless. Despite being deeply rooted in the modern age, one of the most fascinating things about Europe is how each of its countries exhibits an assortment of ancient traditions while keeping its own firm grip on the 21st century.",
    "flights": "$2500 - $4500",
    "accomodation": "$100 - $1000",
    "magic_no": 0
  },
  {
    "region": "North America",
    "photo_link": "images/sophia-simoes-caxORE4n3ic-unsplash.jpg",
    "desc": "North America is home to it all. Step beyond the typical tourist route and carve your own trail as you set out on a unique adventure. From isolated Alaskan towns to the geological wonders of Utah’s national parks and cities thriving with musical culture, explore those places that may be off your North American radar.<br>For the holiday seeker who likes to vacation in nothing but nature, there are the dramatic terrains of a Canadian landscape. For those who want to simply relax, the beaches of Hawai`i are waiting for you. Or seek out the hustle and bustle of the big cities such as Los Angeles, San Francisco, Chicago, Las Vegas or New York City.<br>The diversity is profound here, every state feels like a different nation, with a whole new scope of people watching to go with it.",
    "flights": "$1800 - $3000",
    "accomodation": "$90 - $900",
    "magic_no": 1
  },
  {
    "region": "Asia",
    "photo_link": "images/julian-yu-_WuPjE-MPHo-unsplash.jpg",
    "desc": "A continent of fascinating diversity, one corner might present historic tales detailing heroes and villains, while the other will dazzle with futuristic skylines and bright urban lights. You’ll get swept away in cultures that have been forged over many centuries, and stories that are depicted in time-worn towers, pagodas and even jungle-clad temples. From mesmerising monuments to time-honoured traditions, the only consistent on this compelling continent is tantalising cuisine (we’ll have you chopstick trained in a flash) and hospitable locals – complete with wide smiles and beaming faces.",
    "flights": "$1200 - $2500",
    "accomodation": "$25 - $500",
    "magic_no": 2
  },
  {
    "region": "Pacific Islands",
    "photo_link": "images/1_Maldives-Villa-piles-on-water.jpg",
    "desc": "You're a very lucky Kiwi. Why? Because as a New Zealander you live on the doorstep to some of the most beautiful tropical Pacific Islands in the world. Destinations such as Fiji and Rarotonga, Samoa, Niue and of course, that little dime called Tahiti, amongst many others. \n<br> These are places that some people can only dream about. To many they are just a 'one day' destination - a desktop background on an office computer - but to us they're a three hour flight away, give or take. That's right, Utopia at our fingertips: world-class snorkelling, sugary white beaches and a dazzling ocean that merges from jade to turquoise. Languid days spent idly in a rocking hammock, and nights with exotic cocktails and purple sunsets. For Kiwis, the Pacific Islands need not be a pipe dream, they are all well within our grasp. Better still, paradise need not cost you a fortune.",
    "flights": "$700 - $1500",
    "accomodation": "$10 - $300",
    "magic_no": 3
  },
  {
    "region": "New Zealand",
    "photo_link": "images/sophie-turner-LZVmvKlchM0-unsplash.jpg",
    "desc": "Explore the 8th wonder of the world- Aotearoa!!!",
    "flights": "$0 - $800",
    "accomodation": "$0 - $150",
    "magic_no": 4
  },
]

</script>

</html>